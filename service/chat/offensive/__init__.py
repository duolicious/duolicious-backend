import re

# The idea of this list is to filter the most extreme and most common ways to
# offend in intros. Because it only applies to intros, we've aimed for broad
# terms that could be acceptable in an *established* conversations, but are
# typically socially unacceptable at the start of a conversation.
#
# Although the list is likely to change over time, it probably won't change
# very frequently, so we'll just hardcode it rather than storing it in the DB.


_strings = [
    "abuse me",
    "abuse you",
    "anal",
    "anally",
    "anus",
    "ass fuck",
    "ass fucked",
    "ass fucker",
    "ass fucking",
    "ass-fuck",
    "ass-fucked",
    "ass-fucker",
    "ass-fucking",
    "assfuck",
    "assfucked",
    "assfucker",
    "assfucking",
    "ballsack",
    "beastial",
    "beastiality",
    "bellend",
    "bestiality",
    "bitch",
    "blow job",
    "blow jobs",
    "blowjob",
    "blowjobs",
    "breasts",
    "bukkake",
    "butt fuck",
    "butt fucked",
    "butt fucker",
    "butt fucking",
    "butt-fuck",
    "butt-fucked",
    "butt-fucker",
    "butt-fucking",
    "c0ck",
    "c0cksucker",
    "carpet muncher",
    "cawk",
    "chink",
    "chinks",
    "clit",
    "clitoris",
    "coal burner",
    "coal burners",
    "coalburner",
    "coalburners",
    "cock sucker",
    "cock",
    "cock-sucker",
    "cockface",
    "cockhead",
    "cockmunch",
    "cockmuncher",
    "cocks",
    "cocksuck",
    "cocksucked",
    "cocksucker",
    "cocksucking",
    "coon",
    "coprophilia",
    "cum",
    "cumming",
    "cums",
    "cumshot",
    "cunilingus",
    "cunillingus",
    "cunnilingus",
    "cunt",
    "cuntlick",
    "cuntlicker",
    "cuntlicking",
    "cunts",
    "cut me",
    "cut you",
    "dick",
    "dildo",
    "dildos",
    "dog-fucker",
    "doggin",
    "dogging",
    "dyke",
    "dykes",
    "e sex",
    "e-sex",
    "eat my ass",
    "eat your ass",
    "edging",
    "ejaculate",
    "ejaculated",
    "ejaculates",
    "ejaculating",
    "ejaculatings",
    "ejaculation",
    "ejakulate",
    "esex",
    "faggitt",
    "faggot",
    "faggots",
    "fannyflaps",
    "fannyfucker",
    "fanyy",
    "fatass",
    "felching",
    "fellate",
    "fellatio",
    "fingerfuck",
    "fingerfucked",
    "fingerfucker",
    "fingerfuckers",
    "fingerfucking",
    "fingerfucks",
    "fistfuck",
    "fistfucked",
    "fistfucker",
    "fistfuckers",
    "fistfucking",
    "fistfuckings",
    "fistfucks",
    "foot job",
    "footjob",
    "fuck you",
    "fuck yourself",
    "fucking me",
    "fucking you",
    "gag me",
    "gag you",
    "gang bang",
    "gangbang",
    "gangbanged",
    "gangbangs",
    "gaysex",
    "goatse",
    "golden shower",
    "gook",
    "gooks",
    "hang myself",
    "hang yourself",
    "hanged myself",
    "hanged yourself",
    "hanging myself",
    "hanging yourself",
    "heil",
    "hoe",
    "hoes",
    "horniest",
    "horny",
    "hotsex",
    "incest",
    "jack-off",
    "jackoff",
    "jerk off",
    "jerk-off",
    "jerked off",
    "jerking off",
    "jism",
    "jiz",
    "jizm",
    "jizz",
    "kike",
    "kikes",
    "kill my self",
    "kill myself",
    "kill your self",
    "kill yourself",
    "killed myself",
    "killed yourself",
    "killing myself",
    "killing yourself",
    "kms",
    "kys",
    "labia",
    "loli",
    "lolicon",
    "masterbate",
    "masterbation",
    "masterbations",
    "masturbate",
    "masturbated",
    "masturbates",
    "masturbating",
    "molest",
    "molestation",
    "molester",
    "molesting",
    "my nuts",
    "necrophilia",
    "nigga",
    "niggas",
    "nigger",
    "niggers",
    "nigs",
    "nutsack",
    "orgasim",
    "orgasims",
    "orgasm",
    "orgasms",
    "orgy",
    "p0rn",
    "paedo",
    "paedophile",
    "paraphilias",
    "pedo",
    "pedophile",
    "pedophilia",
    "pegging",
    "penis",
    "penisfucker",
    "phonesex",
    "pissflaps",
    "pissin",
    "pissing",
    "porn",
    "porno",
    "pornography",
    "pornos",
    "prostitute",
    "pussies",
    "pussy",
    "pussys",
    "rape",
    "raped",
    "rapes",
    "raping",
    "rapist",
    "retard",
    "retardation",
    "retarded",
    "retards",
    "rimjob",
    "rimming",
    "scrote",
    "scrotum",
    "semen",
    "sex",
    "shag",
    "shagging",
    "shemale",
    "shitdick",
    "shitfuck",
    "shota",
    "shotacon",
    "skank",
    "slut",
    "sluts",
    "smegma",
    "sodomize",
    "sodomy",
    "spic",
    "stabbing me",
    "stabbing you",
    "suicidal",
    "suicide",
    "testicle",
    "tie me",
    "tie you",
    "tit fuck",
    "tit fucked",
    "tit fucker",
    "tit fucking",
    "tit",
    "tit-fuck",
    "tit-fucked",
    "tit-fucker",
    "tit-fucking",
    "titfuck",
    "tits",
    "titties",
    "titty fuck",
    "titty fucked",
    "titty fucker",
    "titty fucking",
    "titty-fuck",
    "titty-fucked",
    "titty-fucker",
    "titty-fucking",
    "tittyfuck",
    "tittywank",
    "titwank",
    "tnd",
    "trannies",
    "tranny",
    "use me",
    "use you",
    "vagina",
    "viagra",
    "vulva",
    "wank",
    "wanker",
    "whore",
    "whores",
    "wincest",
    "you will never be a woman",
    "you'll never be a woman",
    "ywnbaw",
    "zoophilia",
]

_split_pattern = re.compile(r'[^\S\n\r]+')

_offensive_pattern = '|'.join(f'(\\b{re.escape(s)}\\b)' for s in _strings)

_offensive_matcher = re.compile(_offensive_pattern, re.IGNORECASE)

def is_offensive(s: str) -> bool:
    normalized_input = ' '.join(_split_pattern.split(s))

    return bool(_offensive_matcher.search(normalized_input))
